# direnv configuration for netresearch/go-cron
# https://direnv.net/
#
# Install: brew install direnv (macOS) or apt install direnv (Ubuntu)
# Setup:   echo 'eval "$(direnv hook bash)"' >> ~/.bashrc
#          direnv allow

# Use Go from PATH or specify version
use_go() {
    local go_version="${1:-}"
    if [[ -n "$go_version" ]] && command -v "go${go_version}" &>/dev/null; then
        export GOROOT="$(go${go_version} env GOROOT)"
        PATH_add "$GOROOT/bin"
    fi
}

# Ensure Go modules are enabled
export GO111MODULE=on

# Add local bin to PATH for tools installed via go install
PATH_add "$(go env GOPATH)/bin"

# Project-specific environment
export CGO_ENABLED=0

# Optional: Load .env file if present (for local development)
dotenv_if_exists .env
